(this["webpackJsonpreact-craco-app"]=this["webpackJsonpreact-craco-app"]||[]).push([[8],{155:function(e,t,a){"use strict";a.r(t);var n=a(86),s=a(25),r=a(26),o=a(40),i=a(41),c=a(0),u=a(98),l=a(227),f=(a(234),a(169)),h=a.n(f),d=a(170),g=a(52),p=a(340),m=a(114),v=a(228),j=a(341),b=a(167),A=a(199),x=a(184),O=a(13),R=function(e){var t=p.a.useForm(),a=Object(g.a)(t,1)[0],s=Object(c.useRef)(),r=Object(c.useState)([]),o=Object(g.a)(r,2),i=o[0],u=o[1],l=Object(c.useState)({active:void 0,username:"",password:""}),f=Object(g.a)(l,2),R=f[0],y=f[1],C=Object(c.useReducer)((function(e,t){var a=t.payload;switch(t.name){case"add":return e+1;case"sub":return e-1;case"reset":return a}return e}),0),I=Object(g.a)(C,2),w=(I[0],I[1]);return Object(x.b)(Object(d.a)(h.a.mark((function e(){var t,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)(Object(A.b)());case 2:t=e.sent,s=t&&t.data||[],u(s),a.setFieldsValue(Object(n.a)(Object(n.a)({},R),{},{active:Array.isArray(s)&&s[0]&&s[0].id||void 0,username:"nzhang"})),y({active:Array.isArray(s)&&s[0]&&s[0].id||void 0,username:"qweqe"});case 7:case"end":return e.stop()}}),e)}))),[A.b]),Object(O.jsxs)(p.a,{form:a,name:"normal_login",className:"login-form",initialValues:R,onFinish:function(t){console.log("Success:",t),t.password&&t.username&&(t.password!==t.username?m.b.error("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef"):e.verifyLogin(t))},onFinishFailed:function(e){console.log("Failed:",e)},onValuesChange:function(e){w({name:"add"})},children:[Object(O.jsx)(p.a.Item,{name:"active",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7ec4\u7ec7!"}],children:Object(O.jsx)(v.a,{placeholder:"\u8bf7\u9009\u62e9\u7ec4\u7ec7",children:i&&i.map((function(e){return Object(O.jsx)(v.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(O.jsx)(p.a.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}],children:Object(O.jsx)(j.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d(nzhang)",ref:s,onKeyUp:function(e){return function(e){console.info("inputRef",s),console.info("evtevtevt",e),console.info("inputRef value",s.current.state.value)}(e)}})}),Object(O.jsx)(p.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}],children:Object(O.jsx)(j.a,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801(nzhang)"})}),Object(O.jsx)(p.a.Item,{children:Object(O.jsx)(b.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"\u767b \u5f55"})})]})},y=a(94),C=a(54),I=a(1),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},M=a(8),E=function(e,t){return c.createElement(M.a,Object(I.a)(Object(I.a)({},e),{},{ref:t,icon:w}))};E.displayName="ReloadOutlined";var S=c.forwardRef(E),D=(a(319),a(320)),B=a(321),X=a(322),F=[{ico:D,text:"\u5339\u914d\u6210\u529f"},{ico:B,text:"\u5339\u914d\u5931\u8d25"}];function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=[[0,0,0,0],[0,0,0,1],[0,0,1,0],[0,0,1,1],[0,1,0,0],[0,1,0,1],[0,1,1,0],[0,1,1,1],[1,0,0,0],[1,0,0,1],[1,0,1,0],[1,0,1,1],[1,1,0,0],[1,1,0,1],[1,1,1,0],[1,1,1,1]],s=n[a],r=.1*t;e.save(),e.beginPath(),e.moveTo(r,r),e.lineTo(r,.5*t-r),e.arc(r,.5*t,r,1.5*Math.PI,.5*Math.PI,s[0]),e.lineTo(r,t-r),e.lineTo(.5*t-r,t-r),e.arc(.5*t,t-r,r,Math.PI,0,s[1]),e.lineTo(t-r,t-r),e.lineTo(t-r,.5*t+r),e.arc(t-r,.5*t,r,.5*Math.PI,1.5*Math.PI,s[2]),e.lineTo(t-r,r),e.lineTo(.5*t+r,r),e.arc(.5*t,r,r,0,Math.PI,s[3]),e.lineTo(r,r),e.clip(),e.closePath()}var N=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).shadowCanvas=c.createRef(),n.fragmentCanvas=c.createRef(),n.state={isMovable:!1,offsetX:0,offsetY:0,startX:0,oldX:0,currX:0,status:0,showTips:!1,tipsIndex:0},n.renderImage=function(){n.setState({status:0});var e=new Image;e.addEventListener("load",(function(){var t=n.props,a=t.imageWidth,s=t.imageHeight,r=t.fragmentSize,o=n.shadowCanvas.current.getContext("2d"),i=n.fragmentCanvas.current.getContext("2d"),c=Math.floor(16*Math.random());U(o,r,c),U(i,r,c);var u=Math.floor(r+(a-2*r)*Math.random()),l=Math.floor((s-r)*Math.random());i.drawImage(e,u,l,r,r,0,0,r,r),o.fillStyle="rgba(0, 0, 0, 0.5)",o.fill(),o.restore(),i.restore(),n.setState({offsetX:u,offsetY:l}),n.setState({status:1})})),e.src=n.props.imageUrl},n.onMoveStart=function(e){1===n.state.status&&n.setState({isMovable:!0,startX:e.clientX})},n.onMoving=function(e){if(1===n.state.status&&n.state.isMovable){var t=e.clientX-n.state.startX,a=n.state.oldX+t,s=n.props.imageWidth-n.props.fragmentSize;a=a<0?0:a>s?s:a,n.setState({currX:a})}},n.onMoveEnd=function(){1===n.state.status&&n.state.isMovable&&(n.setState((function(e){return{isMovable:!1,oldX:e.currX}})),Math.abs(n.state.currX-n.state.offsetX)<5?(n.setState((function(e){return{status:2,currX:e.offsetX}}),n.onShowTips),n.props.onMatch()):(n.setState({status:3},(function(){n.onReset(),n.onShowTips()})),n.props.onError()))},n.onReset=function(){var e=setTimeout((function(){n.setState({oldX:0,currX:0,status:1}),clearTimeout(e)}),1e3)},n.onReload=function(){if(1===n.state.status||2===n.state.status){var e=n.shadowCanvas.current.getContext("2d"),t=n.fragmentCanvas.current.getContext("2d");e.clearRect(0,0,n.props.fragmentSize,n.props.fragmentSize),t.clearRect(0,0,n.props.fragmentSize,n.props.fragmentSize),n.setState({isMovable:!1,offsetX:0,offsetY:0,startX:0,oldX:0,currX:0,status:0},n.props.onReload)}},n.onShowTips=function(){if(!n.state.showTips){var e=2===n.state.status?0:1;n.setState({showTips:!0,tipsIndex:e});var t=setTimeout((function(){n.setState({showTips:!1}),clearTimeout(t)}),2e3)}},e.onRef&&e.onRef(Object(C.a)(n)),n}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.imageUrl&&e.imageUrl!==this.props.imageUrl&&this.renderImage()}},{key:"render",value:function(){var e=this.props,t=e.imageUrl,a=e.imageWidth,n=e.imageHeight,s=e.fragmentSize,r=this.state,o=r.offsetX,i=r.offsetY,c=r.currX,u=r.showTips,l=r.tipsIndex,f=F[l];return Object(O.jsxs)("div",{className:"image-code",style:{width:a},children:[Object(O.jsxs)("div",{className:"image-container",style:{height:n,background:'url("'.concat(t,'") center center no-repeat')},children:[Object(O.jsx)(S,{className:"reload-ico",onClick:this.renderImage}),Object(O.jsx)("canvas",{ref:this.shadowCanvas,className:"canvas",width:s,height:s,style:{left:o+"px",top:i+"px"}}),Object(O.jsx)("canvas",{ref:this.fragmentCanvas,className:"canvas",width:s,height:s,style:{top:i+"px",left:c+"px"}}),Object(O.jsxs)("div",{className:u?"tips-container--active":"tips-container",children:[Object(O.jsx)("i",{className:"tips-ico",style:{backgroundImage:'url("'.concat(f.ico,'")')}}),Object(O.jsx)("span",{className:"tips-text",children:f.text})]})]}),Object(O.jsxs)("div",{className:"slider-wrpper",onMouseMove:this.onMoving,onMouseLeave:this.onMoveEnd,children:[Object(O.jsx)("div",{className:"slider-bar",children:"\u6309\u4f4f\u6ed1\u5757\uff0c\u62d6\u52a8\u5b8c\u6210\u62fc\u56fe"}),Object(O.jsx)("div",{className:"slider-button",onMouseDown:this.onMoveStart,onMouseUp:this.onMoveEnd,style:{left:c+"px",backgroundImage:'url("'.concat(X,'")')}})]})]})}}]),a}(c.Component);N.defaultProps={imageUrl:"",imageWidth:500,imageHeight:300,fragmentSize:80,onReload:function(){},onMatch:function(){},onError:function(){}};var Q=N,T=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={url:""},e.getImage=function(){return"https://t7.baidu.com/it/u=364226397,1757963013&fm=193&f=GIF"},e.onReload=function(){e.setState({url:e.getImage()})},e.closeBox=function(t){e.props.onChangeVerify(!1)},e.onMatch=function(t){e.props.onChangeVerify(!0)},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.setState({url:this.getImage()})}},{key:"render",value:function(){return Object(O.jsx)("div",{className:"verify-mask",children:Object(O.jsxs)("div",{className:"verify-box",children:[Object(O.jsxs)("div",{className:"verifybox-top",children:["\u8bf7\u5b8c\u6210\u5b89\u5168\u9a8c\u8bc1",Object(O.jsx)(y.a,{className:"verifybox-close",onClick:this.closeBox})]}),Object(O.jsx)("div",{className:"verifybox-body",children:Object(O.jsx)(Q,{imageUrl:this.state.url,onReload:this.onReload,onMatch:this.onMatch})})]})})}}]),a}(c.Component),Y=a(73),H=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChangeVerify=function(e){e&&(n.setState({verifyFlag:!1}),n.props.setUserStatus(!0),n.props.history.push("/authorized/overview/analysis"))},n.verifyLogin=function(e){n.props.setUserInfo({name:e.username}),e&&n.setState({verifyFlag:!0})},n.callback=function(e){n.setState({curKey:e})},n.state={verifyFlag:!1,curKey:1},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.setUserInfo({name:"1234567890"})}},{key:"render",value:function(){var e=this.state,t=e.verifyFlag,a=e.curKey;return Object(O.jsxs)("div",{className:"login-layout-wrapper",children:[Object(O.jsxs)("video",{className:"bg-video",autoPlay:!0,muted:!0,loop:!0,children:[Object(O.jsx)("source",{src:"//video.699pic.com/videos/80/62/39/a_qmbxMqNvK9jr1583806239.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),Object(O.jsxs)("div",{className:"login-window",children:[Object(O.jsx)("p",{className:"title",children:" Hello \u540e\u53f0\u7cfb\u7edf"}),Object(O.jsxs)(l.a,{centered:!0,defaultActiveKey:a,onChange:this.callback,children:[Object(O.jsx)(l.a.TabPane,{tab:"\u8d26\u53f7\u5bc6\u7801\u767b\u5f55",children:Object(O.jsx)(R,Object(n.a)(Object(n.a)({},this.props),{},{verifyLogin:this.verifyLogin,curKey:a}))},"1"),Object(O.jsx)(l.a.TabPane,{tab:"\u624b\u673a\u53f7\u767b\u5f55",children:"Content of Tab Pane 2"},"2")]})]}),t?Object(O.jsx)(T,{onChangeVerify:this.onChangeVerify}):null]})}}]),a}(c.Component);t.default=Object(u.b)((function(e){return{userInfo:e.get("user").get("userInfo")}}),(function(e){return{setUserInfo:function(t){var a;e((a=t,{type:Y.b,payload:a}))},setUserStatus:function(t){var a;e((a=t,{type:Y.a,payload:a}))}}}))(Object(c.memo)(H))},184:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return c}));var n=a(169),s=a.n(n),r=a(170),o=a(0);function i(e){return e.then((function(e){return e})).catch((function(){return null}))}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(o.useEffect)((function(){Object(r.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:case"end":return t.stop()}}),t)})))()}),t)}},199:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return i}));var n=a(200),s=a.n(n).a.create({baseURL:"/api",timeout:3e4}),r=function(e){return e.response,Promise.reject(e)};function o(e){return s({url:"/tenant/list",method:"get",params:e})}function i(e){return s({url:"/lottery/list",method:"get",params:e})}s.interceptors.request.use((function(e){return e}),r),s.interceptors.response.use((function(e){if(e)return e.data}),r)},234:function(e,t,a){},319:function(e,t,a){},320:function(e,t,a){"use strict";a.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAABlUlEQVRYR8XXPUvDQBgH8P9ziXQQHJxcHHQSdHBR3BxcFDO4FvoJnKxbKYifIGgXO7k52VEcBAcH/QCCTg4u0kVBRJA2b3KBQJrX5nKX3BSScPfjeZJ/cgQAez1vjtnWKcFrArTAz1U8+sQRmmU9grBW8eLBcv2b9swh7Ztjk4B2nQgQeWSYo2Fd7eCV4AheBDLMsX9QdjACjHWG22cXtpM7m9+OACENwhHHuxq2VxjuX1yc3WVKYggpkDDi5w/oDmy8f6YWORFRGiILUQoiEyEMkY0QgqhAJEJ2VhlePzwMv+MPnCpEDLKxRDg50PH166Fz7UxgVCJiEF0DOoaGzWU2gVGNSGxNFNMdOGhuMT+syuREXtYmRnwYM7KBhg6liMy3hmN6LR2L8wTHBY6uxBIzrxLB9cyP3mwDOG/puHxw8fTmps2ZGtvTIoRyJDK5FERZiDREGYhUhChEOkIEogRRFKIMUQSiFDEtRDliGkgliDxIZYgsSKWINEjliCRILYgopDZEGFIrIoBcRDfERf4jZN37D80HVZxChI/IAAAAAElFTkSuQmCC"},321:function(e,t,a){"use strict";a.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAABlUlEQVRYR8XXPUvDQBgH8P9ziXQQHJxcHHQSdHBR3BxcFDO4FvoJnKxbKYifIGgXO7k52VEcBAcH/QCCTg4u0kVBRJA2b3KBQJrX5nKX3BSScPfjeZJ/cgQAez1vjtnWKcFrArTAz1U8+sQRmmU9grBW8eLBcv2b9swh7Ztjk4B2nQgQeWSYo2Fd7eCV4AheBDLMsX9QdjACjHWG22cXtpM7m9+OACENwhHHuxq2VxjuX1yc3WVKYggpkDDi5w/oDmy8f6YWORFRGiILUQoiEyEMkY0QgqhAJEJ2VhlePzwMv+MPnCpEDLKxRDg50PH166Fz7UxgVCJiEF0DOoaGzWU2gVGNSGxNFNMdOGhuMT+syuREXtYmRnwYM7KBhg6liMy3hmN6LR2L8wTHBY6uxBIzrxLB9cyP3mwDOG/puHxw8fTmps2ZGtvTIoRyJDK5FERZiDREGYhUhChEOkIEogRRFKIMUQSiFDEtRDliGkgliDxIZYgsSKWINEjliCRILYgopDZEGFIrIoBcRDfERf4jZN37D80HVZxChI/IAAAAAElFTkSuQmCC"},322:function(e,t,a){"use strict";a.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAABlUlEQVRYR8XXPUvDQBgH8P9ziXQQHJxcHHQSdHBR3BxcFDO4FvoJnKxbKYifIGgXO7k52VEcBAcH/QCCTg4u0kVBRJA2b3KBQJrX5nKX3BSScPfjeZJ/cgQAez1vjtnWKcFrArTAz1U8+sQRmmU9grBW8eLBcv2b9swh7Ztjk4B2nQgQeWSYo2Fd7eCV4AheBDLMsX9QdjACjHWG22cXtpM7m9+OACENwhHHuxq2VxjuX1yc3WVKYggpkDDi5w/oDmy8f6YWORFRGiILUQoiEyEMkY0QgqhAJEJ2VhlePzwMv+MPnCpEDLKxRDg50PH166Fz7UxgVCJiEF0DOoaGzWU2gVGNSGxNFNMdOGhuMT+syuREXtYmRnwYM7KBhg6liMy3hmN6LR2L8wTHBY6uxBIzrxLB9cyP3mwDOG/puHxw8fTmps2ZGtvTIoRyJDK5FERZiDREGYhUhChEOkIEogRRFKIMUQSiFDEtRDliGkgliDxIZYgsSKWINEjliCRILYgopDZEGFIrIoBcRDfERf4jZN37D80HVZxChI/IAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=8.dbf03ca7.chunk.js.map