{"version":3,"sources":["router/index.js","App.js","reportWebVitals.js","mock/index.js","index.js","store/user/reducer.js","store/reducer.js","store/index.js","store/user/action-type.js","utils/renderRoutes.js"],"names":["SuspenseComponent","Component","props","fallback","UserLayout","React","Login","Register","BasicLayout","Analysis","Workplace","RouteView","Lottery","routes","path","exact","name","render","to","component","meta","icon","hidden","redirect","memo","store","basename","window","__MICRO_APP_BASE_URL__","renderRoutes","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Mock","setup","timeout","mock","code","msg","data","moment","locale","microApp","start","ReactDOM","StrictMode","getPopupContainer","node","parentNode","document","body","zhCN","getElementById","defaultState","Map","userInfo","isLogin","reducer","state","action","type","payload","user","set","cRducer","combineReducers","userReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","SET_USER","SET_LOGIN","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","whiteList","extraProps","switchProps","Switch","map","route","Route","strict","getState","getIn","includes"],"mappings":"qKAIMA,EAAoB,SAACC,GAAD,OAAe,SAACC,GACxC,OACE,cAAC,WAAD,CAAgBC,SAAW,cAAC,IAAD,IAA3B,SACE,cAACF,EAAD,eAAgBC,QAMhBE,EAAaC,QAAW,kBAAM,kCAC9BC,EAAQD,QAAW,kBAAM,4EACzBE,EAAWF,QAAW,kBAAM,kCAC5BG,EAAcH,QAAW,kBAAM,sEAI/BI,EAAWJ,QAAW,kBAAM,uEAC5BK,EAAYL,QAAW,kBAAM,kCAG7BM,EAAYN,QAAW,kBAAM,kCAC7BO,EAAUP,QAAW,kBAAM,4EAE3BQ,EAAS,CACb,CAAEC,KAAM,IAAKC,OAAO,EAAMC,KAAM,IAAKC,OAAQ,kBAAM,cAAC,IAAD,CAAUC,GAAG,kBAChE,CACEJ,KAAM,QACNC,OAAO,EACPC,KAAM,OACNG,UAAWnB,EAAkBI,GAC7BS,OAAQ,CACN,CACEC,KAAM,cACNC,OAAO,EACPC,KAAM,QACNG,UAAWnB,EAAkBM,IAE/B,CACEQ,KAAM,iBACNC,OAAO,EACPC,KAAM,WACNG,UAAWnB,EAAkBO,MAInC,CACEO,KAAM,cACNE,KAAM,aACNG,UAAWnB,EAAkBQ,GAC7BK,OAAQ,CACN,CACEC,KAAM,uBACNC,OAAO,EACPC,KAAM,eACNG,UAAWnB,EAAkBW,GAE7BS,KAAM,CAAEJ,KAAM,eAAMK,KAAM,gBAC1BR,OAAQ,CACN,CACEC,KAAM,uBACNC,OAAO,EACPO,QAAQ,EACRN,KAAM,eACNC,OAAQ,kBAAM,cAAC,IAAD,CAAUC,GAAG,mCAC3BE,KAAM,CAAEJ,KAAM,eAAMK,KAAM,iBAE5B,CACEP,KAAM,gCACNC,OAAO,EACPC,KAAM,eACNG,UAAWnB,EAAkBS,GAC7BW,KAAM,CAAEJ,KAAM,eAAMK,KAAM,iBAE5B,CACEP,KAAM,iCACNC,OAAO,EACPC,KAAM,qBACNG,UAAWnB,EAAkBU,GAC7BU,KAAM,CAAEJ,KAAM,qBAAOK,KAAM,mBAIjC,CACEP,KAAM,wBACNC,OAAO,EACPC,KAAM,2BACNG,UAAWnB,EAAkBW,GAC7BY,SAAU,gCACVH,KAAM,CAAEJ,KAAM,2BAAQK,KAAM,gBAC5BR,OAAQ,CACN,CACEC,KAAM,wBACNC,OAAO,EACPO,QAAQ,EACRN,KAAM,YACNC,OAAQ,kBAAM,cAAC,IAAD,CAAUC,GAAG,mCAC3BE,KAAM,CAAEJ,KAAM,YAAaK,KAAM,iBAEnC,CACEP,KAAM,gCACNC,OAAO,EACPC,KAAM,eACNG,UAAWnB,EAAkBY,GAC7BQ,KAAM,CAAEJ,KAAM,eAAMK,KAAM,sBAQvBR,O,uLC3GAR,MAAMmB,MAAK,WACxB,OACE,cAAC,IAAD,CAAUC,MAAQA,IAAlB,SACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAQC,SAAWC,OAAOC,wBAA0B,IAApD,SAA2DC,YAAahB,IAAQY,cCAzEK,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,+BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,6DCJdQ,IAAKC,MAAM,CACTC,QAAS,MAIXF,IAAKG,KAAK,oBAAoB,WAC5B,OAAOH,IAAKG,KAAK,CACfC,KAAM,IACNC,IAAK,GACLC,KAAM,CACJ,CAAE,GAAM,EAAG,KAAQ,uCAAU,OAAU,IAAK,QAAW,IAAK,WAAc,sBAAuB,WAAc,uBAC/G,CAAE,GAAM,EAAG,KAAQ,uCAAU,OAAU,IAAK,QAAW,IAAK,WAAc,sBAAuB,WAAc,uBAC/G,CAAE,GAAM,EAAG,KAAQ,uCAAU,OAAU,IAAK,QAAW,IAAK,WAAc,sBAAuB,WAAc,6BAKrHN,IAAKG,KAAK,qBAAqB,WAC7B,OAAOH,IAAKG,KAAK,CACfC,KAAM,IACNC,IAAK,GACL,WAAW,CAAE,CACX,QAAS,EACT,SAAS,CAAE,eAAM,aAAc,2BAAQ,2BAAQ,sBAC/C,eAAgB,CAAE,yDAAa,6CAAW,6CAAW,oDACrD,MAAS,2BCdfE,IAAOC,OAAO,SAEdC,IAASC,QAKTC,IAASjC,OACP,cAAC,IAAMkC,WAAP,UACE,cAAC,IAAD,CACEC,kBAAoB,SAAAC,GAClB,OAAIA,EACKA,EAAKC,WAEPC,SAASC,MAElBT,OAASU,IAPX,SAQE,cAAC,EAAD,QAGJF,SAASG,eAAe,SAM1B5B,K,8ECpCM6B,EAAeC,cAAI,CACvBC,SAAU,GACVC,SAAS,IAeIC,EAZC,WAAwC,IAAvCC,EAAsC,uDAA9BL,EAAcM,EAAgB,uDAAP,GACtCC,EAAkBD,EAAlBC,KAAMC,EAAYF,EAAZE,QACd,OAAQD,GACN,KAAKE,IACH,OAAOJ,EAAMK,IAAI,WAAYF,GAC/B,KAAKC,IACH,OAAOJ,EAAMK,IAAI,UAAWF,GAC9B,QACE,OAAOH,ICPEM,EAJCC,0BAAgB,CAC9BH,KAAMI,ICHFC,EAAmB9C,OAAO+C,sCAAwCC,IAElElD,EAAQmD,YAAYN,EAASG,EACjCI,YAAgBC,OAGHrD,O,gCCVf,oEAAO,IAAMsD,EAAW,WACXC,EAAY,a,gCCDzB,oEAUA,SAASC,IAgBP,OAdAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAWD,GACxB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAQK,GAAQD,EAAQC,IAK9B,OAAOL,IAIOS,MAAMC,KAAMR,WAG9B,IAAMS,EAAY,CAAE,QAAS,iBAAkB,cAAe,KAEjDlE,EAAe,WAAuD,IAAtDhB,EAAqD,uDAA5C,KAAMmF,EAAsC,uDAAzB,GAAIC,EAAqB,uDAAP,GASzE,OAAOpF,EAASR,gBAAoB6F,IAAQD,EAAapF,EAAOsF,KAAI,SAAUC,EAAOf,GACnF,OAAOhF,gBAAoBgG,IAAO,CAChCZ,IAAKW,EAAMX,KAAOJ,EAClBvE,KAAMsF,EAAMtF,KACZC,MAAOqF,EAAMrF,MACbuF,OAAQF,EAAME,OACdrF,OAAQ,SAACf,GAEP,OADgBuB,IAAM8E,WAAWC,MAAM,CAAE,OAAQ,aAQ3CT,EAAUU,SAASL,EAAMtF,MANtBsF,EAAMnF,OAASmF,EAAMnF,OAAOgE,EAAS,GAAI/E,EAAO,GAAI8F,EAAY,CACrEI,MAAOA,KACH/F,gBAAoB+F,EAAMjF,UAAW8D,EAAS,GAAI/E,EAAO8F,EAAY,CACzEI,MAAOA,KAUA,cAAC,IAAD,CAAUlF,GAAK,CAAEJ,KAAM,wBAKlC,Q","file":"static/js/main.a6a207dc.chunk.js","sourcesContent":["import * as React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Spin } from 'antd'\n\nconst SuspenseComponent = (Component) => (props) => {\n  return (\n    <React.Suspense fallback={ <Spin /> }>\n      <Component { ...props }></Component>\n    </React.Suspense>\n  );\n};\n\n// const BlankLayout = React.lazy(() => import('layouts/BlankLayout'))\nconst UserLayout = React.lazy(() => import('layouts/UserLayout'))\nconst Login = React.lazy(() => import('views/user/login'))\nconst Register = React.lazy(() => import('views/user/register'))\nconst BasicLayout = React.lazy(() => import('layouts/BasicLayout'));\n// const Home = React.lazy(() => import('views/home'))\n\n// const Overview = React.lazy(() => import('views/overview'))\nconst Analysis = React.lazy(() => import('views/overview/Analysis'))\nconst Workplace = React.lazy(() => import('views/overview/Workplace'))\n// const ModuleVue = React.lazy(() => import('views/module/ModuleVue'))\n\nconst RouteView = React.lazy(() => import('layouts/RouteView'))\nconst Lottery = React.lazy(() => import('views/marketing/lottery/index'))\n\nconst routes = [\n  { path: '/', exact: true, name: '/', render: () => <Redirect to=\"/user/login\" /> },\n  {\n    path: '/user',\n    exact: false,\n    name: 'user',\n    component: SuspenseComponent(UserLayout),\n    routes: [\n      {\n        path: '/user/login',\n        exact: false,\n        name: 'login',\n        component: SuspenseComponent(Login)\n      },\n      {\n        path: '/user/register',\n        exact: false,\n        name: 'register',\n        component: SuspenseComponent(Register)\n      }\n    ]\n  },\n  {\n    path: '/authorized',\n    name: 'authorized',\n    component: SuspenseComponent(BasicLayout),\n    routes: [\n      {\n        path: '/authorized/overview',\n        exact: false,\n        name: '概览',\n        component: SuspenseComponent(RouteView),\n        // render: () => <Redirect to=\"/authorized/overview/analysis\" />,\n        meta: { name: '概览', icon: 'HomeOutlined' },\n        routes: [\n          { \n            path: '/authorized/overview', \n            exact: true, \n            hidden: true, \n            name: '概览', \n            render: () => <Redirect to=\"/authorized/overview/analysis\" /> ,\n            meta: { name: '概览', icon: 'UserOutlined' }\n          },\n          {\n            path: '/authorized/overview/analysis',\n            exact: false,\n            name: '分析',\n            component: SuspenseComponent(Analysis),\n            meta: { name: '分析', icon: 'UserOutlined' }\n          },\n          {\n            path: '/authorized/overview/workplace',\n            exact: false,\n            name: '工作台',\n            component: SuspenseComponent(Workplace),\n            meta: { name: '工作台', icon: 'UserOutlined' }\n          }\n        ]\n      },\n      {\n        path: '/authorized/marketing',\n        exact: false,\n        name: '营销工具',\n        component: SuspenseComponent(RouteView),\n        redirect: '/authorized/marketing/lottery',\n        meta: { name: '营销工具', icon: 'UserOutlined' },\n        routes: [\n          { \n            path: '/authorized/marketing', \n            exact: true, \n            hidden: true, \n            name: 'marketing', \n            render: () => <Redirect to=\"/authorized/marketing/lottery\" /> ,\n            meta: { name: 'marketing', icon: 'UserOutlined' }\n          },\n          {\n            path: '/authorized/marketing/lottery',\n            exact: false,\n            name: '抽奖',\n            component: SuspenseComponent(Lottery),\n            meta: { name: '抽奖', icon: 'UserOutlined' }\n          }\n        ]\n      }\n    ]\n  }\n];\n\nexport default routes;\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { renderRoutes } from '@/utils/renderRoutes';\nimport { Provider } from 'react-redux';\nimport { Layout } from 'antd';\nimport routes from '@/router';\nimport store from '@/store';\n\nexport default React.memo(function App () {\n  return (\n    <Provider store={ store }>\n      <Layout>\n        <Router basename={ window.__MICRO_APP_BASE_URL__ || '/' }>{renderRoutes(routes, store)}</Router>\n      </Layout>\n    </Provider>\n  )\n})\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import Mock from 'mockjs';\n\n// 模拟延迟\nMock.setup({\n  timeout: 500\n})\n\n// 生成随机数据\nMock.mock('/api/tenant/list', () => {\n  return Mock.mock({\n    code: '0',\n    msg: '',\n    data: [\n      { 'id': 1, 'name': '苏炳添的组织', 'status': '0', 'delFlag': '0', 'createTime': '2021-07-02 10:09:44', 'updateTime': '2021-07-02 10:09:44' }, \n      { 'id': 2, 'name': '全红婵的组织', 'status': '0', 'delFlag': '0', 'createTime': '2021-07-02 10:39:30', 'updateTime': '2021-07-02 10:39:30' },\n      { 'id': 3, 'name': '郭晶晶的组织', 'status': '1', 'delFlag': '0', 'createTime': '2021-07-02 10:39:30', 'updateTime': '2021-07-02 10:39:30' }\n    ]\n  })\n})\n\nMock.mock('/api/lottery/list', () => {\n  return Mock.mock({\n    code: '0',\n    msg: '',\n    'data|105':[ {\n      'id|+1': 1,\n      'name|1':[ '哑巴', 'Butter-fly', '肆无忌惮', '摩天大楼', '初学者' ],\n      'wxnickname|1': [ '你翻译不了我的声响', '数码宝贝主题曲', '摩天大楼太稀有', '像海浪撞破了山丘' ],\n      'phone': /^1[385][1-9]\\d{8}/\n    } ]\n  })\n})\n\n// import { isIE } from './util'\n\n// // 判断环境不是 prod 或者 preview 是 true 时，加载 mock 服务\n// if (process.env.NODE_ENV !== 'production' || process.env.VUE_APP_PREVIEW === 'true') {\n//   if (isIE()) {\n//     console.error('[antd-pro] ERROR: `mockjs` NOT SUPPORT `IE` PLEASE DO NOT USE IN `production` ENV.')\n//   }\n//   // 使用同步加载依赖\n//   // 防止 vuex 中的 GetInfo 早于 mock 运行，导致无法 mock 请求返回结果\n//   console.log('[antd-pro] mock mounting')\n//   const Mock = require('mockjs')\n//   require('./services/tenant')\n//   // require('./services/user')\n//   // require('./services/manage')\n//   // require('./services/other')\n//   // require('./services/tagCloud')\n//   // require('./services/article')\n\n//   Mock.setup({\n//     timeout: 800 // setter delay time\n//   })\n//   console.log('[antd-pro] mock mounted')\n// }\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport microApp from '@micro-zoe/micro-app'\nimport { ConfigProvider } from 'antd'\nimport './assets/less/index.less';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n// 由于 antd 组件的默认文案是英文，所以需要修改为中文\nimport zhCN from 'antd/lib/locale/zh_CN';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport './mock'\n\nmoment.locale('zh-cn');\n\nmicroApp.start()\n\n// const authed = false // 如果登陆之后可以利用redux修改该值(关于redux不在我们这篇文章的讨论范围之内）\n// const authPath = '/login' // 默认未登录的时候返回的页面，可以自行设置\n\nReactDOM.render(\n  <React.StrictMode>\n    <ConfigProvider\n      getPopupContainer={ node => {\n        if (node) {\n          return node.parentNode;\n        }\n        return document.body;\n      } }\n      locale={ zhCN }>\n      <App />\n    </ConfigProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { Map } from 'immutable';\n// import Immutable from 'immutable';\nimport * as user from './action-type';\n\nconst defaultState = Map({\n  userInfo: {}, // 用户信息\n  isLogin: false\n})\n\nconst reducer = (state = defaultState, action = {}) => {\n  const { type, payload } = action\n  switch (type) {\n    case user.SET_USER:\n      return state.set('userInfo', payload);\n    case user.SET_LOGIN:\n      return state.set('isLogin', payload);\n    default:\n      return state;\n  }\n}\n\nexport default reducer\n","// import { combineReducers } from 'redux';\nimport { combineReducers } from 'redux-immutable';\n\nimport { reducer as userReducer } from './user';\n\n// 多个reducer合并\nconst cRducer = combineReducers({\n  user: userReducer\n});\n\nexport default cRducer;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport cRducer from './reducer';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(cRducer, composeEnhancers(\n  applyMiddleware(thunk)\n))\n\nexport default store\n","export const SET_USER = 'SET_USER';\nexport const SET_LOGIN = 'SET_LOGIN';\n","/**\n * @description: 路由权限\n * @param {*}\n * @return {*}\n */\nimport * as React from 'react'\n// import { useSelector } from 'react-redux';\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport store from '@/store'\n\nfunction _extends () {\n  // eslint-disable-next-line no-func-assign\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[ i ];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[ key ] = source[ key ];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  // eslint-disable-next-line no-unused-vars\n  return _extends.apply(this, arguments);\n}\n\nconst whiteList = [ '/user', '/user/register', '/user/login', '/' ]\n\nexport const renderRoutes = (routes = null, extraProps = {}, switchProps = {}) => {\n  // if (extraProps === void 0) { // 1、使用void 0比使用undefined能够减少3个字节 2、undefined并不是javascript中的保留字，我们可以使用undefined作为变量名字，然后给它赋值。void 0输出唯一的结果undefined，保证了不变性。\n  //   extraProps = {};\n  // }\n\n  // if (switchProps === void 0) {\n  //   switchProps = {};\n  // }\n\n  return routes ? React.createElement(Switch, switchProps, routes.map(function (route, i) {\n    return React.createElement(Route, {\n      key: route.key || i,\n      path: route.path,\n      exact: route.exact,\n      strict: route.strict,\n      render: (props) => {\n        const isLogin = store.getState().getIn([ 'user', 'isLogin' ])\n        if (isLogin) {\n          return route.render ? route.render(_extends({}, props, {}, extraProps, {\n            route: route\n          })) : React.createElement(route.component, _extends({}, props, extraProps, {\n            route: route\n          }));\n        } else {\n          if (whiteList.includes(route.path)) {\n            return route.render ? route.render(_extends({}, props, {}, extraProps, {\n              route: route\n            })) : React.createElement(route.component, _extends({}, props, extraProps, {\n              route: route\n            }));\n          } else {\n            return <Redirect to={ { path: '/user/login' } } />\n          }\n        }\n      }\n    });\n  })) : null;\n}\n"],"sourceRoot":""}